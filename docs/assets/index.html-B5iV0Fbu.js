import{_ as s,c as a,a as e,o as t}from"./app-BuzjU66J.js";const l="/assets/1-wtkemfhJ.jpg",p="/assets/2-8U5vsfjj.png",i={};function c(d,n){return t(),a("div",null,[...n[0]||(n[0]=[e(`<h1 id="null-vs-undefined" tabindex="-1"><a class="header-anchor" href="#null-vs-undefined"><span>Null vs Undefined</span></a></h1><h2 id="定义" tabindex="-1"><a class="header-anchor" href="#定义"><span>定义</span></a></h2><ul><li>undefined 类型只有一个值, 即 Undefined，当声明的变量还未被初始化时，变量的默认值为 undefined</li><li>null 类型也只有一个值，即 Null，用来表示尚未存在的对象，常用来表示函数企图返回一个不存在的对象</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>undefined 代表的含义是未定义，一般变量声明了但还没有定义的时候会返回 undefined, null 代表的含义是空对象, 主要用于赋值给一些可能会返回对象的变量，作为初始化。</p></div><h2 id="场景使用" tabindex="-1"><a class="header-anchor" href="#场景使用"><span>场景使用</span></a></h2><h3 id="常见的-undefined-类型" tabindex="-1"><a class="header-anchor" href="#常见的-undefined-类型"><span>常见的 undefined 类型</span></a></h3><ul><li>变量声明且没有赋值</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">let</span> x<span class="token punctuation">;</span> <span class="token comment">// x 为undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>获取对象中不存在的属性</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>函数需要实参，但是调用时没有传值，形参是 undefined</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token comment">// 声明函数add时，a，b就是形参。调用函数add(1,2)  1，2就是实参。</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN // b输出的结果为undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>函数调用没有返回值或者 return 后没有数据，接受函数返回值的变量</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// d的结果为undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="常见的-null-类型" tabindex="-1"><a class="header-anchor" href="#常见的-null-类型"><span>常见的 null 类型</span></a></h3><ul><li>对象不存在就是 null</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">function</span> <span class="token function">getVowels</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> m <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[aeiou]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> m<span class="token punctuation">.</span>length<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getVowels</span><span class="token punctuation">(</span><span class="token string">&quot;sky&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// expected output: 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">let</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// el 为 null</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="null-与-undefined-的不同点" tabindex="-1"><a class="header-anchor" href="#null-与-undefined-的不同点"><span>null 与 undefined 的不同点</span></a></h2><table><thead><tr><th style="text-align:center;">序号</th><th style="text-align:center;">null</th><th style="text-align:center;">undefined</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:center;">空对象</td><td style="text-align:center;">未定义</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">赋值, 它可以分配给一个变量, 但是不指向任何对象</td><td style="text-align:center;">不赋值, 意味着变量已被声明尚未被赋值</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:center;">typeof null =&gt; &quot;object&quot;</td><td style="text-align:center;">typeof undefined =&gt; &quot;undefined&quot;</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:center;">null 值是表示 null, empty 或者 non-existent reference 的原始值</td><td style="text-align:center;">undefined 是当变量没有被赋值时使用</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:center;">null === undefined =&gt; false</td><td style="text-align:center;">undefined === null =&gt; false</td></tr><tr><td style="text-align:center;">6</td><td style="text-align:center;">null == undefined =&gt; true</td><td style="text-align:center;">undefined == null =&gt; true</td></tr><tr><td style="text-align:center;">7</td><td style="text-align:center;">null === null =&gt; true</td><td style="text-align:center;">undefined === undefined =&gt; true</td></tr><tr><td style="text-align:center;">8</td><td style="text-align:center;">null 转化为 number 时，会转换成 0</td><td style="text-align:center;">undefined 转换为 number 时，会转换为 NaN</td></tr><tr><td style="text-align:center;">9</td><td style="text-align:center;">1 + null =&gt; 1</td><td style="text-align:center;">1 + undefined =&gt; NaN</td></tr><tr><td style="text-align:center;">10</td><td style="text-align:center;">isNaN(1 + null) =&gt; false</td><td style="text-align:center;">isNaN(1 + undefined) =&gt; true</td></tr><tr><td style="text-align:center;">11</td><td style="text-align:center;">!null =&gt; true</td><td style="text-align:center;">!undefined =&gt; true</td></tr></tbody></table><h3 id="typeof-null-是-object" tabindex="-1"><a class="header-anchor" href="#typeof-null-是-object"><span>typeof null 是 object？</span></a></h3><p>typeof null 输出为 &#39;object&#39; 其实是一个底层的错误，但直到现阶段都无法被修复。原因是，在 JavaScript 初始版本中，值以 32 位 存储。前 3 位 表示数据类型的标记，其余位则是值。对于所有的对象，它的前 3 位 都以 000 作为类型标记位。在 JavaScript 早期版本中， null 被认为是一个特殊的值，用来对应 C 中的 空指针 。但 JavaScript 中没有 C 中的指针，所以 null 意味着什么都没有或者 void 并以 全 0(32 个) 表示。因此每当 JavaScript 读取 null 时，它前端的 3 位 将它视为 对象类型 ，这也是为什么 typeof null 返回 &#39;object&#39; 的原因。</p><h3 id="和-对比会出现-true-和-false" tabindex="-1"><a class="header-anchor" href="#和-对比会出现-true-和-false"><span>== 和 === 对比会出现 true 和 false ？</span></a></h3><p>很多文章说： undefined 的布尔值是 false ， null 的布尔值也是 false ，所以它们在比较时都转化为了 false ，所以 undefined == null 实际上并不是这样的，ECMA 在 11.9.3 章节中明确告诉我们：</p><blockquote><p>If x is null and y is undefined, return true. If x is undefined and y is null, return true.</p></blockquote><p>这是 JavaScript 底层的内容了，至于更深入的内容，如果有兴趣可以扒一扒 JavaScript 的源码。</p><h3 id="null-1-和-undefined-1-表现不同" tabindex="-1"><a class="header-anchor" href="#null-1-和-undefined-1-表现不同"><span>null + 1 和 undefined + 1 表现不同？</span></a></h3><p>这涉及到 JavaScript 中的隐式类型转换，在执行 加法运算 前，隐式类型转换会尝试将表达式中的变量转换为 number 类型。如： &#39;1&#39; + 1 会得到结果 11。</p><p>null 转化为 number 时，会转换成 0 undefined 转换为 number 时，会转换为 NaN</p><p>从语言学的角度来看： null 意味着一个明确的没有指向的空值，而 undefined 则意味着一个未知的值。 在某种程度上， 0 意味着数字空值。</p><h2 id="使用建议" tabindex="-1"><a class="header-anchor" href="#使用建议"><span>使用建议</span></a></h2><p>如果程序中涉及到了大量的计算的时候, 在进行 null 在和数字进行运算的时候, null 会转化为 0, 影响计算; 而 undefined 和数字进行运算的时候, 会转成为 NaN, 得出的结果也是 NaN, 不影响计算结果, 这种情况下建议使用 undefined</p><h2 id="配置-eslint" tabindex="-1"><a class="header-anchor" href="#配置-eslint"><span>配置 ESLint</span></a></h2><p>在 svelte 中和 angular 中配置 eslint, 让程序推荐使用 undefined 作为默认值, 我们需要安装一下插件</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">npm install eslint-plugin-unicorn</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>svelte 中配置, 因为 no-null 默认值是 error, 所以无需配置, 也可以手动的重新给 no-null 赋值 <img src="`+l+'" alt="图片"></p></li><li><p>angular 中配置, 想要重写插件中的配置项, 直接在下面修改即可 <img src="'+p+'" alt="图片"></p></li></ul><h2 id="参考链接" tabindex="-1"><a class="header-anchor" href="#参考链接"><span>参考链接</span></a></h2><ul><li><a href="https://juejin.cn/post/7051144396615450655" target="_blank" rel="noopener noreferrer">深入探究：null 和 undefined 究竟有何区别？</a></li></ul>',38)])])}const o=s(i,[["render",c]]),r=JSON.parse('{"path":"/code/web/ts/NullVsUndefined/","title":"Null vs Undefined","lang":"zh-CN","frontmatter":{},"git":{"contributors":[{"name":"Z小染","username":"","email":"ryning@sina.com","commits":1}],"changelog":[{"hash":"6f6d891af7f6085969eceb0577bc18fe9c0495e8","time":1666258153000,"email":"ryning@sina.com","author":"Z小染","message":"init commit"}]},"filePathRelative":"code/web/ts/NullVsUndefined/index.md"}');export{o as comp,r as data};
