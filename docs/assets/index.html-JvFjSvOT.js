import{_ as s,c as a,a as p,o as t}from"./app-BuzjU66J.js";const e={};function o(l,n){return t(),a("div",null,[...n[0]||(n[0]=[p(`<h1 id="uniapp" tabindex="-1"><a class="header-anchor" href="#uniapp"><span>uniapp</span></a></h1><h2 id="uniapp-调用摄像头拍照-上传图片" tabindex="-1"><a class="header-anchor" href="#uniapp-调用摄像头拍照-上传图片"><span>uniapp 调用摄像头拍照/上传图片</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">//选择图片库指定图片个数</span></span>
<span class="line"><span class="token comment">//https://blog.csdn.net/qq_35366269/article/details/107901676</span></span>
<span class="line">uni<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//默认9</span></span>
<span class="line">  <span class="token literal-property property">sizeType</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;original&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;compressed&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//可以指定是原图还是压缩图，默认二者都有</span></span>
<span class="line">  <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;camera&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;album&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//开启照相功能/从相册选择</span></span>
<span class="line">  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;上传图片&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="生成二维码-uniapp" tabindex="-1"><a class="header-anchor" href="#生成二维码-uniapp"><span>生成二维码(uniapp)</span></a></h2><ul><li>下载 weapp-qrcode.js 放入项目并引用</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token constant">QR</span> <span class="token keyword">from</span> <span class="token string">&quot;../../static/js/weapp-qrcode.js&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 二维码生成器</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>*建立 dom 元素</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;qrcode&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>canvas</span>
<span class="line">    style<span class="token operator">=</span><span class="token string">&quot;width: 200upx;height: 200upx;&quot;</span></span>
<span class="line">    canvas<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">&quot;couponQrcode&quot;</span></span>
<span class="line">  <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>开始使用</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">new</span> <span class="token class-name">QR</span><span class="token punctuation">(</span><span class="token string">&#39;couponQrcode&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">colorDark</span><span class="token operator">:</span> <span class="token string">&quot;#333333&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">colorLight</span><span class="token operator">:</span> <span class="token string">&quot;#FFFFFF&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">correctLevel</span><span class="token operator">:</span> <span class="token constant">QR</span><span class="token punctuation">.</span>CorrectLevel<span class="token punctuation">.</span><span class="token constant">H</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">//设置完成就成功了</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="复制功能" tabindex="-1"><a class="header-anchor" href="#复制功能"><span>复制功能</span></a></h2><p>uniapp 自带了复制功能 但是不支持 h5 偶</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">uni<span class="token punctuation">.</span><span class="token function">setClipboardData</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line"><span class="token literal-property property">data</span><span class="token operator">:</span> value<span class="token punctuation">,</span> <span class="token comment">//要被复制的内容</span></span>
<span class="line"><span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">//复制成功的回调函数</span></span>
<span class="line">  uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//提示</span></span>
<span class="line">    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;复制成功&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="uniapp-多语言" tabindex="-1"><a class="header-anchor" href="#uniapp-多语言"><span>uniapp 多语言</span></a></h2><p>多语言可使用 ion8 来实现或者自己手动写 进行切换 但是底部导航需要做如下操作</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">//page.json</span></span>
<span class="line"><span class="token string-property property">&quot;tabBar&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token string-property property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#8a8a8a&quot;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token string-property property">&quot;selectedColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#d4237a&quot;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token string-property property">&quot;borderStyle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token string-property property">&quot;backgroundColor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#ffffff&quot;</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token string-property property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">			<span class="token punctuation">{</span></span>
<span class="line">				<span class="token string-property property">&quot;pagePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pages/index/index&quot;</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;首页&quot;</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token string-property property">&quot;iconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;static/images/icon1.png&quot;</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token string-property property">&quot;selectedIconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;static/images/iconh1.png&quot;</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">{</span></span>
<span class="line">				<span class="token string-property property">&quot;pagePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pages/prize/prize&quot;</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;开奖&quot;</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token string-property property">&quot;iconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;static/images/icon2.png&quot;</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token string-property property">&quot;selectedIconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;static/images/iconh2.png&quot;</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">{</span></span>
<span class="line">				<span class="token string-property property">&quot;pagePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pages/me/me&quot;</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;我的&quot;</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token string-property property">&quot;iconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;static/images/icon3.png&quot;</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token string-property property">&quot;selectedIconPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;static/images/iconh3.png&quot;</span></span>
<span class="line">			<span class="token punctuation">}</span></span>
<span class="line">		<span class="token punctuation">]</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token comment">// app.vue</span></span>
<span class="line"><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">i18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"> <span class="token function-variable function">onShow</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;App Show&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 修改底部导航</span></span>
<span class="line">    uni<span class="token punctuation">.</span><span class="token function">setTabBarItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">&quot;message.home&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    uni<span class="token punctuation">.</span><span class="token function">setTabBarItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">&quot;message.prize&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    uni<span class="token punctuation">.</span><span class="token function">setTabBarItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">&quot;message.me&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">//   // 修改头部标题</span></span>
<span class="line">    <span class="token comment">// uni.setNavigationBarTitle({</span></span>
<span class="line">    <span class="token comment">// 	title: this.$i18n.messages[this.$i18n.locale].tabBar.home</span></span>
<span class="line">    <span class="token comment">// });</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">//点击切换需要刷新一下页面</span></span>
<span class="line">   uni<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">delta</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16)])])}const i=s(e,[["render",o]]),u=JSON.parse('{"path":"/code/web/other/uniapp/","title":"uniapp","lang":"zh-CN","frontmatter":{},"git":{"contributors":[{"name":"cy","username":"cy","email":"1058446050@qq.com","commits":1,"url":"https://github.com/cy"},{"name":"冉亚宁","username":"","email":"ranyaning@kingfar.cn","commits":1}],"changelog":[{"hash":"264553748282522f0802e54d1ae79c9850790656","time":1768966044000,"email":"ranyaning@kingfar.cn","author":"冉亚宁","message":"升级Vue3"},{"hash":"5e2fe40a20d3fadd8db06299b115951bd98d9fb8","time":1669511425000,"email":"1058446050@qq.com","author":"cy","message":"[2022-11-27]第三周打卡"}]},"filePathRelative":"code/web/other/uniapp/index.md"}');export{i as comp,u as data};
