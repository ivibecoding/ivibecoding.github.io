import{_ as i,c as a,a as n,o as e}from"./app-Cjs9rSt5.js";const l="/assets/TsAddition01-D2kJq1zS.png",t="/assets/TsAddition02-6AiuBixv.png",h="/assets/TsAddition03-Bjj11zff.png",p="/assets/TsAddition04-B2CvmA6N.png",k={};function r(d,s){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h4 id="关于0-1-0-2-不等于0-3" tabindex="-1"><a class="header-anchor" href="#关于0-1-0-2-不等于0-3"><span>关于0.1+0.2 不等于0.3</span></a></h4><p><a href="https://cloud.tencent.com/developer/article/1586532" target="_blank" rel="noopener noreferrer">参考网址</a></p><blockquote><p>0.1+0.2=0.30000000000000004 0.7+0.1 = 0.7999999999999999</p></blockquote><p>1)、什么是二进制<br> 二进制只包括0和1两个数字，也就是逢2进1. 这也就是我们计算机采用的二进制。 与cpu的晶体管的开和关两种状态一一对应</p><p>2)、二进制如何转化十进制</p><blockquote><p>整数部分除以2，逆序取余；小数部分乘以2 ；顺序取整；</p></blockquote><p>例如:十进制数105.625转化成二进制数是1101001.101</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>105÷2=52  1(结果看是否有余数)     0.625x2=1.25  1(结果看整数部分)</span></span>
<span class="line"><span>52÷2=26   0                                   0.25x2=0.5    0</span></span>
<span class="line"><span>26÷2=13   0			               0.5x2=1	       1</span></span>
<span class="line"><span>13÷2=6    1                                    因此，小数部分为&quot;101&quot;</span></span>
<span class="line"><span>6÷2= 3    0</span></span>
<span class="line"><span>3÷2 =1    1</span></span>
<span class="line"><span>1÷2=0     1</span></span>
<span class="line"><span>因此，整数部分为&quot;1101001&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3)、二进制的指数形式 任何一个十进制数D都可以表示成D=M<em>10E。同理。任何一个二进制数B都可以表示成B=M</em>2E.其中，E代表指数M为B的尾数 例如 十进制105可以表示为:1.05*10².</p><h4 id="为什么会出现这种形式" tabindex="-1"><a class="header-anchor" href="#为什么会出现这种形式"><span>？为什么会出现这种形式</span></a></h4><h4 id="举例-以5位长度十进制为例-如果不采用科学计数法-5位长度最大可以表示99999-而采用科学计数法-如果前三位存放指数-后2位存放尾数-则最大可以表示9-99-10999" tabindex="-1"><a class="header-anchor" href="#举例-以5位长度十进制为例-如果不采用科学计数法-5位长度最大可以表示99999-而采用科学计数法-如果前三位存放指数-后2位存放尾数-则最大可以表示9-99-10999"><span>举例:以5位长度十进制为例，如果不采用科学计数法，5位长度最大可以表示99999；而采用科学计数法(如果前三位存放指数，后2位存放尾数) 则最大可以表示9.99*10999</span></a></h4><p><img src="`+l+'" alt="图片"></p><p>4）、浮点数IEEE 754标准 IEEE 754是浮点数的运算标准。虽然可以使用指数 但是位数也是有限的。小数确有无线小数的可能。 <img src="'+t+'" alt="图片"></p><h4 id="为什么0-1-0-2-0-3" tabindex="-1"><a class="header-anchor" href="#为什么0-1-0-2-0-3"><span>为什么0.1+0.2 !=0.3</span></a></h4><blockquote><p>将十进制的0.1和0.2转换成二进制</p></blockquote><p>转化规则:整数部分除以2，逆序取余；小数部分乘以2，顺序取整 ● 十进制数0.1转成二进制数为: 0.0001100110011001100110011001100110011001100... ● 十进制的0.2转化成二进制数为 0.001100110011001100110011001100110011001100... 将一般二进制转化成指数形式 ● 十进制数0.1转化成二进制指数形式(简化) 一般形式：0.0001100110011001100110011001100110011001100... 指数形式: 1.1001100110011001100110011001100110011001100... IEE754: 1.10011001100110011001100110011001100110010 指数为-4</p><p>● 十进制数0.2转化成二进制指数形式(简化) 一般形式:0.001100110011001100110011001100110011001100... 指数形式:1.1001100110011001100110011001100110011001100... 指数为-3 因为遵循浮点数IEEE 754标准 所以只保留52位小数，53位舍弃时0舍1入 由于指数不同，不能直接相加 需要对0.1进行移位 <img src="'+h+'" alt="图片"> 上面是二进制的截图。如果计算还需要将二进制转化成十进制。二进制转化十进制的方法是按照位权展开求和。 <img src="'+p+`" alt="图片"></p><h4 id="解决办法-浮点数精度问题" tabindex="-1"><a class="header-anchor" href="#解决办法-浮点数精度问题"><span>解决办法（浮点数精度问题）</span></a></h4><ul><li>使用Number.EPSILON <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON" target="_blank" rel="noopener noreferrer">参考地址</a></li></ul><blockquote><p>属性它表示 1 与大于 1 的最小浮点数之间的差</p></blockquote><p>这个时候我们只要判断(0.1+0.2)-0.3小于Number.EPSILON，在这个误差的范围内就可以判定0.1+0.2===0.3为true。</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-ts"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> numbersequal</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">a</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">){</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  return</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Math</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">abs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">a</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)&lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">EPSILON</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">var </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">a</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.2</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">， </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.3</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">numbersequal</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">a</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">));</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> //true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,22)])])}const o=i(k,[["render",r]]),g=JSON.parse('{"path":"/docs/Web/Ts%20_%20Js/TsAddition.html","title":"0.1+0.2≠0.3","lang":"zh-CN","frontmatter":{"title":"0.1+0.2≠0.3","createTime":"2026/01/23 13:33:00"},"readingTime":{"minutes":2.5,"words":750},"git":{},"filePathRelative":"docs/Web/Ts & Js/TsAddition.md","headers":[]}');export{o as comp,g as data};
